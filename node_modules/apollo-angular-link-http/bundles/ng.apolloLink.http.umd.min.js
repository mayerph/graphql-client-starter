!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common/http"),require("apollo-link"),require("graphql/language/printer"),require("apollo-angular-link-http-common")):"function"==typeof define&&define.amd?define("apollo-angular-link-http",["exports","@angular/core","@angular/common/http","apollo-link","graphql/language/printer","apollo-angular-link-http-common"],t):t(e["ng.apolloLink.http"]={},e.ng.core,e.ng.common.http,e.apolloLink.core,e.printer,e.ng.apolloLink.httpCommon)}(this,function(e,t,n,o,f,h){"use strict";var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var r=function(n){function e(e,t){var c=n.call(this)||this;return c.httpClient=e,c.options=t,c.requester=function(s){return new o.Observable(function(t){var n=s.getContext(),e=function(e,t){return h.prioritize(n[e],c.options[e],t)},r=e("includeQuery",!0),o=e("includeExtensions",!1),i=e("method","POST"),u=e("uri","graphql"),p=e("withCredentials"),a={method:i,url:u,body:{operationName:s.operationName,variables:s.variables},options:{withCredentials:p,headers:c.options.headers}};o&&(a.body.extensions=s.extensions),r&&(a.body.query=f.print(s.query)),n.headers&&(a.options.headers=h.mergeHeaders(a.options.headers,n.headers));var l=h.fetch(a,c.httpClient).subscribe({next:function(e){s.setContext({response:e}),t.next(e.body)},error:function(e){return t.error(e)},complete:function(){return t.complete()}});return function(){l.closed||l.unsubscribe()}})},c}return function r(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(e,n),e.prototype.request=function(e){return this.requester(e)},e}(o.ApolloLink),u=function(){function e(e){this.httpClient=e}return e.prototype.create=function(e){return new r(this.httpClient,e)},e.decorators=[{type:t.Injectable}],e.ctorParameters=function(){return[{type:n.HttpClient}]},e}(),p=[u],a=function(){function e(){}return e.decorators=[{type:t.NgModule,args:[{providers:p}]}],e}();e.HttpLink=u,e.HttpLinkHandler=r,e.HttpLinkModule=a,e.PROVIDERS=p,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng.apolloLink.http.umd.min.js.map